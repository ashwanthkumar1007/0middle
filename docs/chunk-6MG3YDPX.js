import{a as m,b as p,j as f}from"./chunk-33CASTTB.js";var d=[{value:"kg",label:"Kilogram (kg)",category:"weight",description:"Used for solid items - grains, dals, flour, etc."},{value:"quintal",label:"Quintal",category:"weight",description:"Bulk measurement - 100 kg"},{value:"ton",label:"Ton",category:"weight",description:"Large bulk measurement - 1000 kg"},{value:"bag",label:"Bag",category:"weight",description:"Standard bag - typically 50 kg"},{value:"liter",label:"Liter",category:"volume",description:"Used for liquids - oil, honey, milk, etc."},{value:"piece",label:"Piece",category:"count",description:"Individual items or packages"}],k=d.map(c=>c.value),P={weight:d.filter(c=>c.category==="weight"),volume:d.filter(c=>c.category==="volume"),count:d.filter(c=>c.category==="count"),other:d.filter(c=>c.category==="other")};var n="assets/images/products",o={"wheat-flour":`${n}/wheat-flour.jpg`,"jowar-flour":`${n}/jowar-flour.jpeg`,"basmati-rice":`${n}/basmati-rice.jpeg`,"white-rice":`${n}/white-rice.jpeg`,"sona-masoori":`${n}/sona-masoori-rice.jpeg`,"toor-dal":`${n}/toor-dal.jpeg`,"moong-dal":`${n}/moong-dal.jpeg`,"chana-dal":`${n}/chana-dal.jpeg`,"urad-dal":`${n}/urad-dal.jpeg`,"masoor-dal":`${n}/masoor-dal.jpeg`,rajma:`${n}/rajma.jpeg`,sugar:`${n}/sugar.jpeg`,"organic-sugar":`${n}/organic-sugar.jpeg`,jaggery:`${n}/jaggery.jpeg`,salt:`${n}/salt.jpeg`,"cooking-oil":`${n}/cooking-oil.jpeg`,honey:`${n}/honey.jpeg`,turmeric:`${n}/turmeric.jpeg`,default:`${n}/default.jpeg`};function l(c){let t=c.toLowerCase().replace(/[^a-z0-9]+/g,"-");return o[t]?o[t]:t.includes("wheat")?o["wheat-flour"]:t.includes("jowar")||t.includes("sorghum")?o["jowar-flour"]:t.includes("basmati")?o["basmati-rice"]:t.includes("white-rice")?o["white-rice"]:t.includes("sona")||t.includes("masoori")?o["sona-masoori"]:t.includes("toor")||t.includes("pigeon")?o["toor-dal"]:t.includes("moong")||t.includes("green-gram")?o["moong-dal"]:t.includes("chana")||t.includes("bengal")?o["chana-dal"]:t.includes("urad")||t.includes("black-gram")?o["urad-dal"]:t.includes("masoor")||t.includes("red-lentil")?o["masoor-dal"]:t.includes("rajma")||t.includes("kidney")?o.rajma:t.includes("organic")&&t.includes("sugar")?o["organic-sugar"]:t.includes("sugar")?o.sugar:t.includes("jaggery")||t.includes("gur")?o.jaggery:t.includes("salt")?o.salt:t.includes("oil")?o["cooking-oil"]:t.includes("honey")?o.honey:t.includes("turmeric")||t.includes("haldi")?o.turmeric:o.default}var S=[{id:"user-001",name:"Ash",address:"Perundurai Road, Erode - 638052, Tamil Nadu",mobileNumber:"9876543210",rating:4.8,totalProductsSold:1250,totalSalesAmount:485e3,products:[{productId:"prod-001",name:"Wheat Flour",imageUrl:l("Wheat Flour"),unit:"kg",pricePerUnit:45,initialStock:300,currentStock:120,unitsSold:180,createdDate:"2025-11-15"},{productId:"prod-002",name:"Basmati Rice",imageUrl:l("Basmati Rice"),unit:"kg",pricePerUnit:85,initialStock:850,currentStock:0,unitsSold:850,createdDate:"2025-10-20"},{productId:"prod-003",name:"Toor Dal (Pigeon Peas)",imageUrl:l("Toor Dal"),unit:"kg",pricePerUnit:120,initialStock:145,currentStock:25,unitsSold:120,createdDate:"2025-12-01"},{productId:"prod-015",name:"Organic Honey",imageUrl:l("Organic Honey"),unit:"liter",pricePerUnit:450,initialStock:130,currentStock:45,unitsSold:85,createdDate:"2025-11-28"}]},{id:"user-002",name:"Arun",address:"Bhavani Town, Erode - 638301, Tamil Nadu",mobileNumber:"9123456789",rating:4.6,totalProductsSold:980,totalSalesAmount:325e3,products:[{productId:"prod-004",name:"White Rice",imageUrl:l("White Rice"),unit:"kg",pricePerUnit:65,initialStock:600,currentStock:150,unitsSold:450,createdDate:"2025-11-01"},{productId:"prod-005",name:"Sugar",imageUrl:l("Sugar"),unit:"kg",pricePerUnit:55,initialStock:262,currentStock:180,unitsSold:82,createdDate:"2025-10-10"}]},{id:"user-003",name:"Tom",address:"Gobichettipalayam, Erode - 638476, Tamil Nadu",mobileNumber:"9988776655",rating:4.9,totalProductsSold:1580,totalSalesAmount:62e4,products:[{productId:"prod-006",name:"Moong Dal (Green Gram)",imageUrl:l("Moong Dal"),unit:"kg",pricePerUnit:130,initialStock:190,currentStock:95,unitsSold:95,createdDate:"2025-09-15"},{productId:"prod-007",name:"Chana Dal (Bengal Gram)",imageUrl:l("Chana Dal"),unit:"kg",pricePerUnit:110,initialStock:385,currentStock:65,unitsSold:320,createdDate:"2025-11-20"},{productId:"prod-008",name:"Sona Masoori Rice",imageUrl:l("Sona Masoori Rice"),unit:"kg",pricePerUnit:70,initialStock:1200,currentStock:0,unitsSold:1200,createdDate:"2025-12-05"},{productId:"prod-016",name:"Turmeric Powder",imageUrl:l("Turmeric Powder"),unit:"kg",pricePerUnit:280,initialStock:220,currentStock:55,unitsSold:165,createdDate:"2025-12-03"}]},{id:"user-004",name:"Dhinesh",address:"Sathyamangalam, Erode - 638401, Tamil Nadu",mobileNumber:"9445566778",rating:4.7,totalProductsSold:720,totalSalesAmount:28e4,products:[{productId:"prod-009",name:"Cooking Oil (Sunflower)",imageUrl:l("Cooking Oil"),unit:"liter",pricePerUnit:180,initialStock:465,currentStock:85,unitsSold:380,createdDate:"2025-10-25"},{productId:"prod-010",name:"Urad Dal (Black Gram)",imageUrl:l("Urad Dal"),unit:"kg",pricePerUnit:140,initialStock:252,currentStock:42,unitsSold:210,createdDate:"2025-11-10"},{productId:"prod-017",name:"Jaggery (Gur)",imageUrl:l("Jaggery"),unit:"kg",pricePerUnit:75,initialStock:430,currentStock:190,unitsSold:240,createdDate:"2025-11-18"}]},{id:"user-005",name:"Sam",address:"Chennimalai, Erode - 638051, Tamil Nadu",mobileNumber:"9001122334",rating:4.5,totalProductsSold:560,totalSalesAmount:195e3,products:[{productId:"prod-011",name:"Iodized Salt",imageUrl:l("Iodized Salt"),unit:"kg",pricePerUnit:25,initialStock:375,currentStock:280,unitsSold:95,createdDate:"2025-11-05"},{productId:"prod-012",name:"Masoor Dal (Red Lentils)",imageUrl:l("Masoor Dal"),unit:"kg",pricePerUnit:95,initialStock:400,currentStock:120,unitsSold:280,createdDate:"2025-12-01"},{productId:"prod-018",name:"Organic Cane Sugar",imageUrl:l("Organic Cane Sugar"),unit:"kg",pricePerUnit:65,initialStock:405,currentStock:210,unitsSold:195,createdDate:"2025-11-22"}]},{id:"user-006",name:"Raj",address:"Kavindapadi, Erode - 638455, Tamil Nadu",mobileNumber:"9667788990",rating:4.4,totalProductsSold:890,totalSalesAmount:34e4,products:[{productId:"prod-013",name:"Jowar Flour (Sorghum)",imageUrl:l("Jowar Flour"),unit:"kg",pricePerUnit:50,initialStock:515,currentStock:95,unitsSold:420,createdDate:"2025-10-18"},{productId:"prod-014",name:"Rajma (Kidney Beans)",imageUrl:l("Rajma"),unit:"kg",pricePerUnit:115,initialStock:190,currentStock:35,unitsSold:155,createdDate:"2025-11-25"}]}];function b(){localStorage.getItem("omiddle_users_db")||(localStorage.setItem("omiddle_users_db",JSON.stringify(S)),console.log("\u2705 Mock user database initialized with placeholder images"))}var E=(()=>{class c{constructor(){this.STORAGE_KEY="products",this.MIGRATION_FLAG_KEY="products_migrated",this.ensureMigration()}ensureMigration(){if(localStorage.getItem(this.MIGRATION_FLAG_KEY))return;if(this.getAllProducts().length>0){localStorage.setItem(this.MIGRATION_FLAG_KEY,"true");return}let r=[];S.forEach(i=>{i.products.forEach(a=>{let u={productId:a.productId,sellerMobileNumber:i.mobileNumber,name:a.name,imageUrl:a.imageUrl,unit:a.unit,pricePerUnit:a.pricePerUnit,initialStock:a.initialStock||a.currentStock,currentStock:a.currentStock,unitsSold:a.unitsSold||0,createdDate:a.createdDate};r.push(u)})}),localStorage.setItem(this.STORAGE_KEY,JSON.stringify(r)),localStorage.setItem(this.MIGRATION_FLAG_KEY,"true"),console.log(`\u2705 Migrated ${r.length} products from MOCK_USERS to localStorage`)}getAllProducts(){try{let e=localStorage.getItem(this.STORAGE_KEY);return e?JSON.parse(e):[]}catch(e){return console.error("Failed to get products from localStorage:",e),[]}}getProductsBySeller(e){return this.getAllProducts().filter(i=>i.sellerMobileNumber===e)}getProductById(e){return this.getAllProducts().find(i=>i.productId===e)||null}addProduct(e){try{let r=this.getAllProducts();return e.productId||(e.productId=this.generateProductId()),e.createdDate||(e.createdDate=new Date().toISOString().split("T")[0]),e.unitsSold===void 0&&(e.unitsSold=0),e.initialStock||(e.initialStock=e.currentStock),r.push(e),localStorage.setItem(this.STORAGE_KEY,JSON.stringify(r)),console.log("\u2705 Product added successfully:",e.name),!0}catch(r){return console.error("Failed to add product:",r),!1}}updateProduct(e,r){try{let i=this.getAllProducts(),a=i.findIndex(u=>u.productId===e);return a===-1?(console.error("Product not found:",e),!1):(i[a]=p(m(m({},i[a]),r),{productId:i[a].productId,sellerMobileNumber:i[a].sellerMobileNumber}),localStorage.setItem(this.STORAGE_KEY,JSON.stringify(i)),console.log("\u2705 Product updated successfully:",e),!0)}catch(i){return console.error("Failed to update product:",i),!1}}deleteProduct(e){try{let r=this.getAllProducts(),i=r.filter(a=>a.productId!==e);return r.length===i.length?(console.error("Product not found:",e),!1):(localStorage.setItem(this.STORAGE_KEY,JSON.stringify(i)),console.log("\u2705 Product deleted successfully:",e),!0)}catch(r){return console.error("Failed to delete product:",r),!1}}generateProductId(){return`prod-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}getSellerStats(e){let r=this.getProductsBySeller(e),i=r.length,a=r.reduce((g,s)=>g+(s.unitsSold||0),0),u=r.reduce((g,s)=>{let h=s.unitsSold||0;return g+h*s.pricePerUnit},0);return{totalProducts:i,totalUnitsSold:a,totalRevenue:u}}static{this.\u0275fac=function(r){return new(r||c)}}static{this.\u0275prov=f({token:c,factory:c.\u0275fac,providedIn:"root"})}}return c})();export{b as a,d as b,E as c};
